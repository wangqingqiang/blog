# 性能优化
## 性能统计
通过 `window.performance` 统计页面性能时间
` let t = window.performance.timing;`
- TTFB:  
  首字节收到时间，`t.responseStart - t.navigationStart`

- 白屏时间：  
  第一个像素开始渲染的时间：`t.domLoading - t.navigationStart`

- DOMContentLoaded:  
  `t.domContentLoadedEventEnd` 返回所有需要被执行的脚本已经被解析时的时间戳  
  `t.domContentLoadedEventEnd - t.navigationStart`

- 可交互时间：  
  `domComplete` 返回当前文档解析完成被触发时的时间戳  
  ` t.domComplete - t.navigationStart`

- Load:  
  `t.loadEventEnd - t.navigationStart`

- DNS解析时间：  
  `domainLookupEnd - domainLookupStart`

- TCP 连接时间：  
  `connectEnd - connectStart`

## 优化方案
- 改造接口去掉options请求  
  options请求是由于跨域请求时额外添加了header头信息造成的，options请求是浏览器自发起的preflight request(预检请求)，以检测实际请求是否可以被浏览器接受

- 首页单独的打包策略，去掉公共代码
- tree shaking
- 组件改为动态组件

- 首页css内联

- 首页去掉iconfont

- 图片webp化  
  根据容器环境判断是否支持webp格式的图片

- 图片懒加载

- 添加骨架图，减少白屏时间
  
- dns prefetch
