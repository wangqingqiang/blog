## 原理
- 将页面分为A、B、C、D四个点位，分别表示站点、页面、区域、具体点位
## 统计PV/UV
- PV
  当页面加载完，获取页面的A、B点，发送请求带上这俩参数，就可以统计出PV，Referer兜底备用
- UV
  给每个用户生成一个toten存入cookie中，发送PV请求是带上
## 统计页面来源
页面跳转时添加点击元素的A、B、C、D值作为参数，比如`?spm={A}.{B}.{C}.{D}`，发送请求是带上这个`spm`值，可以统计出：
- **页面来源，进而得出页面的流向，页面丢失率**
- **前一个页面元素的点击量**

## 单页面埋点
切换路由时手动发送PV请求

## 元素点击统计
当页面不发生跳转时，只统计某个元素的点击量，只需要传递`a.b.c.d`就可以，当然还可以传递额外的业务数据作为参数

## 为什么埋点请求都用1x1px的图片
- 避免跨域
- 1x1px的透明图体积很小，100个字节左右
- 只需要 `new Image`，不需要实际插入到页面中，不会影响用户体验，还可以通过 `onerror、onload`事件检测发送状态

### 为什么不是JPG、PNG
GIF的最低合法体积最小（最小的BMP文件需要74个字节，PNG需要67个字节，而合法的GIF，只需要43个字节）